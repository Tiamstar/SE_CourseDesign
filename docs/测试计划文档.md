# 基于大语言模型的软件工程课程助手 - 测试计划文档

## 1. 简介

### 1.1 目的

本测试计划文档旨在定义基于大语言模型的软件工程课程助手的测试策略、测试范围、测试方法和进度安排，确保系统在发布前达到预期的质量目标。

### 1.2 适用范围

本测试计划适用于软件工程课程助手系统的所有组件，包括前端界面、后端服务、数据库、知识检索系统和大模型集成。

### 1.3 参考文档

- 需求分析文档
- 系统设计文档
- 项目开发计划
- IEEE 829-2008 测试文档标准

## 2. 测试策略

### 2.1 测试级别

本项目将采用以下测试级别：

1. **单元测试**：测试各独立模块的功能
2. **集成测试**：测试模块间的交互
3. **系统测试**：测试整个系统的功能和性能
4. **验收测试**：确保系统满足用户需求

### 2.2 测试类型

本项目将执行以下类型的测试：

1. **功能测试**：验证系统功能是否符合需求规格说明
2. **性能测试**：评估系统响应时间和处理能力
3. **兼容性测试**：确保系统在不同浏览器和设备上的兼容性
4. **安全测试**：检查系统的安全控制措施
5. **可用性测试**：评估系统的用户体验

### 2.3 测试方法

本项目采用以下测试方法：

1. **黑盒测试**：基于功能规格的测试
2. **白盒测试**：基于代码结构的测试
3. **自动化测试**：使用测试工具进行自动化测试
4. **手动测试**：由测试人员手动进行功能验证

### 2.4 测试工具

本项目将使用以下测试工具：

1. **Jest**: JavaScript测试框架，用于前端单元测试
2. **Mocha**: Node.js测试框架，用于后端单元测试
3. **Chai**: 断言库，配合Mocha使用
4. **Supertest**: HTTP断言库，用于API测试
5. **JMeter**: 性能测试工具
6. **Lighthouse**: Web性能测试工具

## 3. 测试环境

### 3.1 硬件环境

| 项目 | 配置 |
|------|------|
| 服务器 | 华为云ECS，2vCPU，4GB内存 |
| 数据库服务器 | 华为云MongoDB，2vCPU，4GB内存 |
| 测试客户端 | 各类桌面和移动设备 |

### 3.2 软件环境

| 项目 | 配置 |
|------|------|
| 操作系统 | CentOS 7.9 |
| Web服务器 | Nginx 1.20 |
| 数据库 | MongoDB 4.4 |
| 搜索引擎 | Elasticsearch 7.10 |
| 浏览器 | Chrome, Firefox, Safari, Edge最新版 |

### 3.3 网络环境

测试将在以下网络环境中进行：

1. 局域网环境
2. 公网环境
3. 模拟的低带宽环境

## 4. 测试范围

### 4.1 功能测试范围

#### 4.1.1 前端功能

| 模块 | 功能点 | 测试项 |
|------|--------|--------|
| 首页 | 智能体选择 | 验证用户能够选择不同的智能体 |
| 对话界面 | 消息输入 | 验证用户能够输入消息并发送 |
| 对话界面 | 消息展示 | 验证系统正确展示对话历史 |
| 对话界面 | 智能体切换 | 验证用户能够在对话过程中切换智能体 |

#### 4.1.2 后端功能

| 模块 | 功能点 | 测试项 |
|------|--------|--------|
| API服务 | 对话处理 | 验证系统能够处理用户消息并返回回答 |
| 知识检索 | 相关内容检索 | 验证系统能够检索相关知识内容 |
| 大模型集成 | 调用华为云API | 验证系统能够成功调用大模型API并获取结果 |
| 数据存储 | 会话存储 | 验证系统能够正确存储和获取会话数据 |

#### 4.1.3 智能体功能

| 模块 | 功能点 | 测试项 |
|------|--------|--------|
| 通用助手 | 一般问题解答 | 验证能够回答一般软件工程问题 |
| 概念解释 | 术语解释 | 验证能够准确解释软件工程概念 |
| 需求分析 | 需求评估 | 验证能够分析需求文档并提供反馈 |
| 软件设计 | 设计建议 | 验证能够提供软件设计建议 |
| 软件测试 | 测试策略 | 验证能够提供测试策略和测试用例建议 |

### 4.2 非功能测试范围

#### 4.2.1 性能测试

| 测试类型 | 测试目标 | 期望结果 |
|---------|---------|---------|
| 响应时间测试 | 测量系统响应时间 | 平均响应时间<3秒 |
| 并发测试 | 测试系统在并发用户下的表现 | 支持50个并发用户 |
| 负载测试 | 测试系统在不同负载下的性能变化 | 性能下降幅度<20% |

#### 4.2.2 兼容性测试

| 测试类型 | 测试目标 | 期望结果 |
|---------|---------|---------|
| 浏览器兼容性 | 测试主流浏览器的兼容性 | 在Chrome、Firefox、Safari、Edge上正常运行 |
| 设备兼容性 | 测试桌面和移动设备的兼容性 | 在PC、平板、手机上正常显示和操作 |
| 响应式设计 | 测试不同分辨率下的显示效果 | 界面能够适应不同屏幕尺寸 |

#### 4.2.3 安全测试

| 测试类型 | 测试目标 | 期望结果 |
|---------|---------|---------|
| HTTPS配置 | 测试HTTPS传输加密 | 所有数据传输采用HTTPS加密 |
| 身份验证 | 测试API访问权限控制 | 未授权请求被正确拦截 |
| 数据安全 | 测试敏感数据处理 | 敏感数据得到适当保护 |

## 5. 测试用例

### 5.1 前端功能测试用例

#### TC-F-001: 智能体选择测试

**测试目标**：验证用户能够选择不同的智能体

**前提条件**：用户已访问系统首页

**测试步骤**：
1. 检查首页是否显示智能体选择选项
2. 选择"概念解释"智能体
3. 点击"开始使用"按钮
4. 检查是否进入对话界面
5. 检查对话界面是否显示已选择的智能体类型

**预期结果**：
1. 首页显示多个智能体选择选项
2. 选择智能体后，"开始使用"按钮可点击
3. 点击按钮后，成功进入对话界面
4. 对话界面顶部显示"概念解释"智能体标识

#### TC-F-002: 消息发送测试

**测试目标**：验证用户能够发送消息并获得回复

**前提条件**：用户已进入对话界面

**测试步骤**：
1. 在输入框中输入"什么是软件工程"
2. 点击发送按钮
3. 等待系统回复
4. 检查回复内容

**预期结果**：
1. 消息成功发送
2. 界面显示用户发送的消息
3. 系统在3秒内开始回复
4. 收到关于软件工程的合理解释

### 5.2 后端功能测试用例

#### TC-B-001: API响应测试

**测试目标**：验证API能够正确响应请求

**前提条件**：服务器已启动

**测试步骤**：
1. 向`/api/chat/message`发送POST请求
2. 请求包含message、sessionId和agent字段
3. 验证响应状态码和内容格式

**预期结果**：
1. 返回状态码200
2. 响应包含message字段
3. 响应格式符合API规范

#### TC-B-002: 知识检索测试

**测试目标**：验证系统能够从知识库检索相关内容

**前提条件**：Elasticsearch服务已启动且包含测试数据

**测试步骤**：
1. 向`/api/search`发送包含关键词"软件测试"的请求
2. 验证检索结果

**预期结果**：
1. 返回与"软件测试"相关的知识条目
2. 结果按相关度排序
3. 每个结果包含title和content字段

### 5.3 智能体功能测试用例

#### TC-A-001: 概念解释测试

**测试目标**：验证概念解释智能体能够准确解释软件工程概念

**前提条件**：系统已配置概念解释智能体

**测试步骤**：
1. 选择概念解释智能体
2. 发送"解释敏捷开发方法"
3. 验证回答内容

**预期结果**：
1. 回答包含敏捷开发的定义
2. 回答解释敏捷开发的核心原则
3. 回答可能包含常见敏捷方法(如Scrum、XP)的介绍

### 5.4 性能测试用例

#### TC-P-001: 响应时间测试

**测试目标**：测量系统平均响应时间

**前提条件**：系统运行在测试环境

**测试步骤**：
1. 使用JMeter创建测试脚本
2. 模拟10个用户同时发送不同的问题
3. 记录每个请求的响应时间
4. 计算平均响应时间

**预期结果**：
1. 平均响应时间小于3秒
2. 90%的请求响应时间小于5秒
3. 没有超时错误

## 6. 测试进度计划

### 6.1 测试里程碑

| 里程碑 | 计划完成日期 | 交付物 |
|--------|--------------|--------|
| 测试计划完成 | 2023-09-15 | 测试计划文档 |
| 测试环境搭建 | 2023-09-20 | 测试环境配置报告 |
| 测试用例开发 | 2023-09-30 | 测试用例文档 |
| 单元测试完成 | 2023-10-10 | 单元测试报告 |
| 集成测试完成 | 2023-10-20 | 集成测试报告 |
| 系统测试完成 | 2023-10-30 | 系统测试报告 |
| 验收测试完成 | 2023-11-10 | 验收测试报告 |
| 回归测试完成 | 2023-11-15 | 回归测试报告 |

### 6.2 测试活动计划

| 测试活动 | 开始日期 | 结束日期 | 负责人 |
|---------|---------|----------|--------|
| 测试需求分析 | 2023-09-10 | 2023-09-15 | 测试经理 |
| 测试计划制定 | 2023-09-15 | 2023-09-20 | 测试经理 |
| 测试用例设计 | 2023-09-20 | 2023-09-30 | 测试工程师 |
| 测试环境准备 | 2023-09-15 | 2023-09-25 | 系统管理员 |
| 单元测试执行 | 2023-10-01 | 2023-10-10 | 开发工程师 |
| 集成测试执行 | 2023-10-11 | 2023-10-20 | 测试工程师 |
| 系统测试执行 | 2023-10-21 | 2023-10-30 | 测试工程师 |
| 验收测试执行 | 2023-11-01 | 2023-11-10 | 测试经理、客户代表 |
| 缺陷修复与回归测试 | 2023-11-10 | 2023-11-15 | 开发工程师、测试工程师 |

## 7. 测试资源

### 7.1 人力资源

| 角色 | 人数 | 职责 |
|------|------|------|
| 测试经理 | 1 | 测试计划制定、测试进度监控、测试报告审核 |
| 测试工程师 | 2 | 测试用例设计、测试执行、缺陷报告、测试文档编写 |
| 开发工程师 | 3 | 单元测试编写与执行、缺陷修复 |
| 系统管理员 | 1 | 测试环境搭建与维护 |

### 7.2 硬件资源

| 资源类型 | 数量 | 用途 |
|---------|------|------|
| 测试服务器 | 2 | 部署测试环境 |
| 测试客户端 | 5 | 执行客户端测试 |
| 移动设备 | 4 | 执行移动兼容性测试 |

## 8. 风险与应对措施

### 8.1 测试风险

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|---------|
| 测试环境不稳定 | 中 | 高 | 提前搭建环境并进行稳定性测试 |
| 测试进度延迟 | 中 | 高 | 设置缓冲时间，关键路径优先测试 |
| 大模型API不稳定 | 高 | 高 | 准备模拟数据和回退方案 |
| 测试覆盖不足 | 中 | 中 | 建立测试覆盖率目标，定期评审 |

### 8.2 缺陷管理流程

1. **缺陷报告**：测试人员发现缺陷后，记录详细信息并提交
2. **缺陷分类**：根据严重程度和优先级对缺陷进行分类
3. **缺陷分配**：将缺陷分配给相关开发人员
4. **缺陷修复**：开发人员修复缺陷并更新状态
5. **缺陷验证**：测试人员验证缺陷是否已修复
6. **缺陷关闭**：确认修复后关闭缺陷

### 8.3 缺陷严重程度定义

| 严重程度 | 定义 |
|---------|------|
| 致命 | 系统崩溃或无法使用，数据丢失或损坏 |
| 严重 | 主要功能不可用，但系统仍可运行 |
| 一般 | 功能可用但存在问题，影响用户体验 |
| 轻微 | 小问题，不影响系统功能和用户体验 |

## 9. 测试完成标准

### 9.1 测试退出标准

以下条件全部满足时，可以结束测试：

1. 所有计划的测试用例都已执行
2. 所有致命和严重缺陷都已修复
3. 未修复的一般和轻微缺陷数量在可接受范围内
4. 系统性能指标达到预期目标
5. 所有测试文档已更新并完成

### 9.2 测试暂停标准

满足以下任一条件时，可暂停测试：

1. 测试环境出现严重问题，无法继续测试
2. 发现系统存在阻塞性的致命缺陷
3. 测试资源暂时不可用

### 9.3 测试恢复标准

满足以下条件时，可恢复暂停的测试：

1. 导致暂停的问题已解决
2. 测试环境已恢复正常
3. 测试资源已恢复可用

## 10. 附录

### 10.1 测试文档模板

- 测试用例模板
- 缺陷报告模板
- 测试报告模板

### 10.2 相关术语

| 术语 | 定义 |
|------|------|
| 单元测试 | 对软件中的最小可测试单元进行检查和验证的测试 |
| 集成测试 | 将各个单元模块组合起来进行测试的方法 |
| 回归测试 | 在软件修改后重新测试以确保修改没有引入新的错误 |
| 性能测试 | 确定系统在特定工作负载下的响应性和稳定性的测试 | 